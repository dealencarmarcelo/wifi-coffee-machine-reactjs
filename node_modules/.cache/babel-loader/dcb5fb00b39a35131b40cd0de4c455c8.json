{"ast":null,"code":"var _jsxFileName = \"/home/dealencarmarcelo/Codes/Faculdade/SistemasDigitais/wifi-coffee-machine/src/components/Dashboard.jsx\";\nimport React, { Component } from 'react';\nimport { firebaseDatabase } from '../utils/firebaseUtils';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nimport FlashOnIcon from '@material-ui/icons/FlashOn';\nimport Box from '@material-ui/core/Box';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction valuetext(value) {\n  firebaseDatabase.ref().update({\n    quantity: value\n  });\n}\n\nfunction Alert(props) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 12\n  }, this);\n}\n\n_c = Alert;\nconst marks = [{\n  value: 0,\n  label: '0'\n}, {\n  value: 200,\n  label: '200ml'\n}];\nexport default class System extends Component {\n  constructor(props) {\n    super(props);\n\n    this.initialState = () => {\n      return {\n        data: []\n      };\n    };\n\n    this.turnOn = () => {\n      firebaseDatabase.ref().update({\n        active: true,\n        status: \"Cafeteira ligada!\"\n      });\n    };\n\n    this.turnOff = () => {\n      firebaseDatabase.ref().update({\n        active: false,\n        status: \"Cafeteira desligada!\"\n      });\n    };\n\n    this.startPrepare = () => {\n      firebaseDatabase.ref().update({\n        preparing: true\n      });\n    };\n\n    this.state = this.initialState();\n  }\n\n  componentDidMount() {\n    const dataRef = firebaseDatabase.ref();\n    dataRef.on('value', snapshot => {\n      let data = snapshot.val();\n      let newState = [];\n      newState.push({\n        active: data.active,\n        withCup: data.withCup,\n        percentage: data.percentage,\n        preparing: data.preparing,\n        current_quantity: data.current_quantity,\n        status: data.status\n      });\n      this.setState({\n        data: newState\n      });\n    });\n  }\n\n  render() {\n    let {\n      data,\n      openAlert\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: data[0] && data[0].active == true ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"success\",\n          children: data[0] && data[0].status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 20,\n              marginTop: 10\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Cafeteira Ligada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"secondary\",\n              onClick: this.turnOff,\n              endIcon: /*#__PURE__*/_jsxDEV(FlashOnIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 46\n              }, this),\n              children: \"Desligar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 30\n          },\n          children: data[0].withCup == true ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Copo no lugar.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 65\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 60\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(ErrorIcon, {\n              color: \"secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 106\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Por favor, coloque um copo. \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 138\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 101\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 50\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            id: \"discrete-slider\",\n            gutterBottom: true,\n            style: {\n              marginBottom: 50\n            },\n            children: \"Quantidade\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Slider, {\n            style: {\n              width: 400\n            },\n            defaultValue: 50,\n            getAriaValueText: valuetext,\n            \"aria-labelledby\": \"discrete-slider\",\n            valueLabelDisplay: \"auto\",\n            step: 10,\n            marks: marks,\n            min: 10,\n            max: 200,\n            valueLabelDisplay: \"on\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 50\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: this.startPrepare,\n            endIcon: /*#__PURE__*/_jsxDEV(FlashOnIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 42\n            }, this),\n            disabled: data[0] && !data[0].withCup,\n            children: \"Preparar Caf\\xE9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 50\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            position: \"relative\",\n            display: \"inline-flex\",\n            children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n              variant: \"determinate\",\n              value: data[0].percentage,\n              style: {\n                width: 60,\n                marginRight: 20\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              top: 0,\n              left: 0,\n              bottom: 0,\n              right: 0,\n              position: \"absolute\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                component: \"div\",\n                color: \"textSecondary\",\n                children: [data[0].percentage, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 10,\n            marginBottom: 20\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Cafeteira Desligada\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: this.turnOn,\n            endIcon: /*#__PURE__*/_jsxDEV(FlashOnIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 42\n            }, this),\n            children: \"Ligar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"Alert\");","map":{"version":3,"sources":["/home/dealencarmarcelo/Codes/Faculdade/SistemasDigitais/wifi-coffee-machine/src/components/Dashboard.jsx"],"names":["React","Component","firebaseDatabase","Typography","Slider","CircularProgress","Button","FlashOnIcon","Box","Snackbar","MuiAlert","ErrorIcon","valuetext","value","ref","update","quantity","Alert","props","marks","label","System","constructor","initialState","data","turnOn","active","status","turnOff","startPrepare","preparing","state","componentDidMount","dataRef","on","snapshot","val","newState","push","withCup","percentage","current_quantity","setState","render","openAlert","marginBottom","marginTop","width","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { firebaseDatabase } from '../utils/firebaseUtils';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nimport FlashOnIcon from '@material-ui/icons/FlashOn';\nimport Box from '@material-ui/core/Box';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nfunction valuetext(value) {\n    firebaseDatabase.ref().update({\n        quantity: value\n    })\n}\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst marks = [\n    {\n        value: 0,\n        label: '0'\n    },\n    {\n        value: 200,\n        label: '200ml'\n    }\n]\n\nexport default class System extends Component {\n    constructor(props) {\n        super(props);\n        this.state = this.initialState();\n    }\n\n    initialState = () => {\n        return {\n            data: []\n        }\n    }\n\n    componentDidMount() {\n        const dataRef = firebaseDatabase.ref();\n        dataRef.on('value', (snapshot) => {\n            let data = snapshot.val();\n            let newState = [];\n            \n            newState.push({\n                active: data.active, \n                withCup: data.withCup,\n                percentage: data.percentage,\n                preparing: data.preparing,\n                current_quantity: data.current_quantity,\n                status: data.status\n            })\n\n            this.setState({\n                data: newState,\n            })\n        })\n    }\n\n    turnOn = () => {\n        firebaseDatabase.ref().update({\n            active: true,\n            status: \"Cafeteira ligada!\"\n        })\n\n    }\n\n    turnOff = () => {\n        firebaseDatabase.ref().update({\n            active: false,\n            status: \"Cafeteira desligada!\"\n        })\n    }\n\n    startPrepare = () => {\n        firebaseDatabase.ref().update({\n            preparing: true\n        })\n    }\n\n    render() {\n        let { data, openAlert } = this.state;\n        return (\n            <div>\n                { \n                    data[0] && (data[0].active == true) ? \n                    <div>\n                        <Alert severity=\"success\">{data[0] && data[0].status}</Alert>\n                        <div>\n                            <div style={{marginBottom: 20, marginTop: 10}}>\n                                <span>Cafeteira Ligada</span>\n                            </div>\n                            <div>\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    onClick={this.turnOff}\n                                    endIcon={<FlashOnIcon />}\n                                >\n                                Desligar\n                                </Button>\n                            </div>\n                        </div>\n\n                        <div style={{ marginTop: 30 }}>\n                                {data[0].withCup == true ? <div><span>Copo no lugar.</span></div> : <div><ErrorIcon color=\"secondary\" /> <span>Por favor, coloque um copo. </span></div> }\n                        </div>\n\n                        <div style={{ marginTop: 50 }}>\n                            <Typography id=\"discrete-slider\" gutterBottom style={{ marginBottom: 50 }}>\n                                Quantidade\n                            </Typography>\n                            <Slider\n                                style={ {width:400} }\n                                defaultValue={50}\n                                getAriaValueText={valuetext}\n                                aria-labelledby=\"discrete-slider\"\n                                valueLabelDisplay=\"auto\"\n                                step={10}\n                                marks={marks}\n                                min={10}\n                                max={200}\n                                valueLabelDisplay=\"on\"\n                            />\n                        </div>\n                        <div style={{ marginTop: 50 }}>\n                            <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={this.startPrepare}\n                                endIcon={<FlashOnIcon />}\n                                disabled={data[0] && !data[0].withCup}\n                            >\n                                Preparar Café\n                            </Button>\n                        </div>\n                        <div style={{ marginTop: 50 }}>\n                            <Box position=\"relative\" display=\"inline-flex\">\n                                <CircularProgress variant=\"determinate\" value={data[0].percentage} style={{width: 60, marginRight: 20}} />\n                                <Box\n                                    top={0}\n                                    left={0}\n                                    bottom={0}\n                                    right={0}\n                                    position=\"absolute\"\n                                    display=\"flex\"\n                                    alignItems=\"center\"\n                                    justifyContent=\"center\"\n                                >\n                                <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{data[0].percentage}%</Typography>\n                                </Box>\n                            </Box>\n                        </div>\n                    </div> : \n                    <div>\n                        <div style={{ marginTop: 10, marginBottom: 20 }}>\n                            <span>Cafeteira Desligada</span>\n                        </div>\n                        <div>\n                            <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={this.turnOn}\n                                endIcon={<FlashOnIcon />}\n                            >\n                                Ligar\n                            </Button>\n                        </div>\n                    </div>\n                }\n            </div>\n        );\n    }\n};"]},"metadata":{},"sourceType":"module"}